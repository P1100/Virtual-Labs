<h1>Submissions history</h1>
<div>
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <ng-container matColumnDef="createDate">
      <th mat-header-cell *matHeaderCellDef>Created Date</th>
      <td mat-cell *matCellDef="let element">{{element.createDate | date:'short'}}</td>
    </ng-container>
    <ng-container matColumnDef="link">
      <th mat-header-cell *matHeaderCellDef>Submission</th>
      <td mat-cell *matCellDef="let element">
        <a mat-stroked-button href="{{element.directLink}}" target="_blank">Link</a></td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumnsTable; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsTable;" style="margin: 10px"></tr>
  </table>
  <br>
  <mat-form-field class="example-form-field">
    <mat-label>Correction</mat-label>
    <textarea matInput [(ngModel)]="correction"></textarea>
    <button mat-button *ngIf="correction" matSuffix mat-icon-button >
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>
<br>
  <mat-checkbox class="example-margin" [(ngModel)]="isDefinitive">Rendi definitivo</mat-checkbox>
  <br>
  <mat-form-field class="form-group">
    <mat-label>Final grade</mat-label>
    <input matInput [(ngModel)]="implementation.grade" type="number">
  </mat-form-field>

</div>
<div mat-dialog-actions>
  <button mat-raised-button color="primary" mat-button (click)="submit()" [disabled]="isDefinitive==true && implementation.grade==null">Submit correction</button>
  <button type="button" mat-button (click)="dialogRef.close()" >Cancel</button>
</div>
